/*
 *  Kenburnsy - v0.0.2
 *  Easy to use JQuery plugin to make slideshows with Ken Burns effect
 *  
 *
 *  Made by Zero.One
 *  Under MIT License
 */
!function(a,b,c){function d(b,c){this.el=b,this.$el=a(b),this.settings=a.extend({},f,c),this._defaults=f,this._name=e,this.index=0,this.init()}var e="kenburnsy",f={fullscreen:!1,duration:9e3,fadeInDuration:1500,width:null,height:null},g=[],h=[],i={zoomOut:function(b,c){a(b).velocity({rotateZ:"3deg",scale:"1.1"},0).velocity({rotateZ:"0deg",scale:"1"},c)},zoomIn:function(b,c){a(b).velocity({rotateZ:"0deg",scale:"1"},0).velocity({rotateZ:"3deg",scale:"1.1"},c)}},j=function(b,c){var d;d=b.map(function(a,b){var c;return c=new jQuery.Deferred(function(){b.addEventListener("load",this.resolve)})}),a.when(d).done(c)};a.extend(d.prototype,{init:function(){var b=this.settings;this.$el.addClass(function(){var a=[e];return b.fullscreen&&a.push("fullscreen"),a.join(" ")}),g=this.$el.children().map(function(b,c){return a(c).prop("src")}).map(function(a,b){var c=new Image;return c.src=b,c}),j(g,this.buildScene.bind(this))},revealSlide:function(b){var c=this.$el;a(b).velocity({opacity:0},0,function(){a(this).appendTo(c)}).velocity("fadeIn",{duration:this.settings.fadeInDuration,queue:!1})},show:function(a){var b=Object.keys(i),c=i[b[b.length*Math.random()<<0]],d=this.settings.duration,e=h[a];this.revealSlide(e),c(e,d)},next:function(){this.index=this.index===h.length-1?0:this.index+1,this.show(this.index)},buildScene:function(){var a=this.el;a.innerHTML="",h=g.map(function(){var b=c.createElement("div");return b.style.backgroundImage="url("+this.src+")",b.className="slide",a.appendChild(b),b}),this.settings.fullscreen||(this.$el.width(this.settings.width||g[0].naturalWidth||g[0].width),this.$el.height(this.settings.height||g[0].naturalheight||g[0].height)),this.show(0),setInterval(this.next.bind(this),this.settings.duration-this.settings.fadeInDuration)}}),a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))}),this}}(jQuery,window,document);