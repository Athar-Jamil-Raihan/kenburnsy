/**
 * kenburnsy - Easy to use JQuery plugin to make slideshows with Ken Burns effect
 * @version v0.0.3
 * @link https://github.com/ZeroOneStudio/kenburnsy
 * @license MIT
 */
!function(t,e,i){function n(e,i){this.el=e,this.$el=t(e),this.settings=t.extend({},a,i),this._defaults=a,this._name=s,this.index=0,this.init()}var s="kenburnsy",a={fullscreen:!1,duration:9e3,fadeInDuration:1500,width:null,height:null},h=[],r=[],o={zoomOut:function(e,i){t(e).velocity({rotateZ:"3deg",scale:"1.1"},0).velocity({translateZ:0,rotateZ:"0deg",scale:"1"},i)},zoomIn:function(e,i){t(e).velocity({rotateZ:"0deg",scale:"1"},0).velocity({translateZ:0,rotateZ:"3deg",scale:"1.1"},i)}},l=function(e,i){var n;n=e.map(function(t,e){var i=new jQuery.Deferred(function(){e.addEventListener("load",this.resolve)});return i}),t.when(n).done(i)};t.extend(n.prototype,{init:function(){var e=this.settings;this.$el.addClass(function(){var t=[s];return e.fullscreen&&t.push("fullscreen"),t.join(" ")}),h=this.$el.children().map(function(e,i){return t(i).prop("src")}).map(function(t,e){var i=new Image;return i.src=e,i}),l(h,this.buildScene.bind(this))},revealSlide:function(e){var i=this.$el;t(e).velocity({opacity:0},0,function(){t(this).appendTo(i)}).velocity({opacity:1,translateZ:0},{duration:this.settings.fadeInDuration,queue:!1})},show:function(t){var e=Object.keys(o),i=o[e[Math.floor(e.length*Math.random())]],n=this.settings.duration,s=r[t];this.revealSlide(s),i(s,n)},next:function(){this.index=this.index===r.length-1?0:this.index+1,this.show(this.index)},buildScene:function(){var t=this.el;t.innerHTML="",r=h.map(function(){var e=i.createElement("div");return e.style.backgroundImage="url("+this.src+")",e.className="slide",t.appendChild(e),e}),this.settings.fullscreen||(this.$el.width(this.settings.width||h[0].naturalWidth||h[0].width),this.$el.height(this.settings.height||h[0].naturalheight||h[0].height)),this.show(0),setInterval(this.next.bind(this),this.settings.duration-this.settings.fadeInDuration)}}),t.fn[s]=function(e){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new n(this,e))}),this}}(jQuery,window,document);